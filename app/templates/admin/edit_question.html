{% extends "admin/layout.html" %}

{% block content %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('admin.manage_subjects') }}">과목 관리</a></li>
            <li class="breadcrumb-item"><a href="{{ url_for('admin.manage_concepts', subject_id=question.concept.subject.id) }}">{{ question.concept.subject.name }}</a></li>
            <li class="breadcrumb-item"><a href="{{ url_for('admin.manage_questions', concept_id=question.concept.id) }}">{{ question.concept.name }} - 문제 관리</a></li>
            <li class="breadcrumb-item active" aria-current="page">문제 ID: {{ question.id }} 수정</li>
        </ol>
    </nav>

    <h2 class="mb-4">문제 수정 (ID: {{ question.id }})</h2>

    <div class="card">
        <div class="card-body">
            <form action="{{ url_for('admin.edit_question', question_id=question.id) }}" method="post">
                <div class="mb-3">
                    <label for="content" class="form-label"><strong>문제 내용</strong></label>
                    <textarea class="form-control" id="content" name="content" rows="3" required>{{ question.content }}</textarea>
                </div>
                <hr>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="option1" class="form-label">보기 1</label>
                        <input type="text" class="form-control" id="option1" name="option1" value="{{ question.option1 }}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="option2" class="form-label">보기 2</label>
                        <input type="text" class="form-control" id="option2" name="option2" value="{{ question.option2 }}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="option3" class="form-label">보기 3</label>
                        <input type="text" class="form-control" id="option3" name="option3" value="{{ question.option3 }}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="option4" class="form-label">보기 4</label>
                        <input type="text" class="form-control" id="option4" name="option4" value="{{ question.option4 }}" required>
                    </div>
                </div>
                <hr>
                <div class="mb-3">
                    <label for="answer" class="form-label"><strong>정답 번호 (1-4)</strong></label>
                    <input type="number" class="form-control" id="answer" name="answer" min="1" max="4" value="{{ question.answer }}" required style="width: 100px;">
                </div>
                <div class="d-flex justify-content-end">
                    <a href="{{ url_for('admin.manage_questions', concept_id=question.concept.id) }}" class="btn btn-secondary me-2">취소</a>
                    <button type="submit" class="btn btn-primary">수정 내용 저장</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}