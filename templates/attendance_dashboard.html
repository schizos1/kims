{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <h2 class="text-center mb-3">ğŸ“… ì¶œì„ ëŒ€ì‹œë³´ë“œ</h2>

  <div class="mb-4">
    <div class="card p-3 shadow-sm pastel-bg">
      <div class="d-flex align-items-center">
        <div style="font-size: 2rem;">ğŸ‘¦</div>
        <div class="ms-3">
          <strong>{{ user.username }}</strong> ë‹˜,
          {% if is_attended_today %}
            <span class="badge bg-success">ì˜¤ëŠ˜ ì¶œì„ ì™„ë£Œ!</span>
          {% else %}
            <span class="badge bg-warning text-dark">ì•„ì§ ì¶œì„ ì „!</span>
          {% endif %}
        </div>
      </div>
      <div class="mt-2">
        <b>ì—°ì† ì¶œì„:</b> {{ streak }} ì¼<br>
        <b>ìµœì¥ ì—°ì† ê¸°ë¡:</b> {{ longest_streak }} ì¼
      </div>
    </div>
  </div>

  <div class="card shadow-sm p-3 mb-4">
    <h5 class="mb-3">ğŸ—“ï¸ ì¶œì„ ìº˜ë¦°ë” (ì´ë²ˆ ë‹¬)</h5>
    <div class="row row-cols-7 g-1">
      {% for day in calendar_days %}
        <div class="col">
          {% if day %}
            {% if day in attendance_days %}
              <span class="badge bg-info text-dark" style="width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;">{{ day }}</span>
            {% else %}
              <span class="badge bg-light text-muted" style="width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;">{{ day }}</span>
            {% endif %}
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>

  <a href="{% url 'student_dashboard' %}" class="btn btn-outline-primary mt-2">ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a>
</div>
<style>
.pastel-bg { background: #f7f9ff; }
</style>
{% endblock %}
